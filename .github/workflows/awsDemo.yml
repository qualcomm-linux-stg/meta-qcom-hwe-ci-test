name: AWSCodeBuild Demo

on:
  workflow_dispatch:
env:
  SELF_HOSTED_RUNNER: codebuild-QualcommLinuxStg-MetaQcom-${{ github.run_id }}-${{ github.run_attempt }}
jobs:
  GH-To-AWS-CodeBuild-Integratio-Test:
    runs-on:
      #- codebuild-QualcommLinuxStg-MetaQcom-${{ github.run_id }}-${{ github.run_attempt }}
      - $SELF_HOSTED_RUNNER
      - buildspec-override:true
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3      
      - name: Build Code
        run: |
          id
          sudo -su builder; id ; echo $HOME
          mkdir /efs/${GITHUB_RUN_ID}
          find /efs
          
      - name: GithubVariable
        run: |
          echo ${{ github.workspace }}
          echo $GITHUB_WORKSPACE
